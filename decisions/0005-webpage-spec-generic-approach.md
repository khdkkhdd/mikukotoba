# 일반 웹페이지 명세를 범용 핸들러 관점으로 구성

Status: accepted
Date: 2026-02-19

## Context

일반 웹페이지 번역 기능 명세를 작성하면서, YouTube·Twitter 명세와는 근본적으로 다른 구조가 필요했다. 다른 명세들은 사이트 구조에 맞춘 "번역 대상 요소 목록"을 중심으로 기술했지만, 일반 웹페이지 핸들러는 특정 사이트가 아닌 모든 사이트에서 동작하므로 같은 접근이 불가능하다.

## Decision

일반 웹페이지 명세를 **"요소 목록"이 아닌 "감지·판별 기준"** 중심으로 구성한다.

- 번역 대상: 특정 요소명 대신 "블록 레벨 요소 안의 일본어 텍스트"라는 범용 기준으로 기술
- 다른 핸들러와의 차이점(지연 활성화, 호버 지연 시간 등)을 명시적으로 서술
- 제한사항에 범용 접근의 한계(레이아웃 간섭, iframe/Shadow DOM 미지원 등)를 솔직히 기재

## Consequences

### Positive
- 범용 핸들러의 본질(어떤 사이트든 동작)을 정확히 반영
- "왜 특정 사이트에서 번역이 안 되는가"에 대한 제한사항이 명확히 문서화됨
- YouTube·Twitter 명세와 비교해서 읽을 때, 전용 핸들러의 가치가 드러남

### Negative
- "이 사이트에서는 이 요소가 번역된다"라는 확정적 보장을 줄 수 없음
- 사이트마다 실제 동작이 다를 수 있어, 테스트 시 범위가 넓어짐

## Alternatives Considered

- **주요 일본어 사이트별 요소 목록 작성**: NHK, Yahoo Japan 등 주요 사이트별로 번역 대상을 나열. 거부 사유: 범용 핸들러의 본질과 맞지 않고, 사이트 변경 시 즉시 구식이 됨
- **YouTube·Twitter와 동일한 구조로 작성**: 요소별 표시 방식 표 중심 구성. 거부 사유: 범용 핸들러에는 "요소별 분류"가 존재하지 않아 억지스러운 구조가 됨

## References

- Plan: `context.md`
- Related: `docs/webpage_feature.md`, `docs/translation_feature.md`
