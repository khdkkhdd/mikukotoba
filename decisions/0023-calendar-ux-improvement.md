# 캘린더 기반 UX 개선 — 4개 영역 통합 기획

Status: accepted
Date: 2026-02-20

## Context

모바일 앱에서 날짜가 관련된 기능(단어 목록, 자유 복습 범위 선택)이 있지만 날짜 탐색 UX가 부족하다. 단어 목록은 flat 리스트만 제공하고, 자유 복습은 ◀/▶ 월 이동으로 날짜를 설정해야 하며, 학습 통계가 전혀 없고, 학습 세션에서 나가는 방법도 제한적이다.

## Decision

4개 영역을 함께 기획하고 순차 구현한다:

1. **학습 모드 네비게이션**: 모든 학습 세션에 상단 ✕ 종료 버튼 상시 노출 + 확인 다이얼로그. SRS 완료 시 자유 복습 전환 버튼 추가.
2. **캘린더 공통 컴포넌트**: 단일 선택, 범위 선택, 히트맵 3가지 모드를 지원하는 공유 컴포넌트.
3. **자유 복습 캘린더**: ◀/▶ 방식 → 시각적 캘린더 범위 선택. 단어 있는 날짜 마킹 + 빠른 선택 프리셋(최근 7일/30일/이번 달/전체).
4. **단어 목록 개선**: 접이식 캘린더 필터 + 전체/날짜별 보기 모드 + 날짜 그룹 헤더.
5. **학습 통계**: 학습 탭 내 통계 카드로 진입. 캘린더 히트맵(학습량 농도), 날짜별 상세(카드 수/정답률/등급 분포), 기간별 요약(오늘/주/월), 전체 통계(스트릭/총 학습량/마스터 단어).

구현 순서: 1 → 2 → 3 → 4 → 5 (캘린더 무관한 네비게이션 먼저, 이후 캘린더 기반 순서대로).

## Consequences

### Positive
- 날짜 기반 탐색이 직관적으로 개선됨 (캘린더 시각화)
- 학습 동기 부여 (스트릭, 히트맵, 통계)
- 학습 세션 진입/이탈이 자유로워짐
- 공통 캘린더 컴포넌트로 3곳에서 재사용

### Negative
- 상당한 UI 작업량 (캘린더 컴포넌트 + 통계 페이지)
- 캘린더 라이브러리 의존성 추가 가능성
- 통계 쿼리 추가로 DB 부담 (review_log 집계)

## Alternatives Considered

- **통계를 별도 탭으로 분리**: 탭이 5개가 되면 복잡. 학습 탭 내 카드로 진입하는 방식이 동선상 자연스러움.
- **캘린더 없이 텍스트 기반 날짜 입력**: 직관성이 떨어지고, 어떤 날짜에 데이터가 있는지 파악 불가.
- **각 영역별 개별 캘린더 구현**: 중복 코드 발생. 공통 컴포넌트가 유지보수에 유리.

## References

- Plan: `docs/calendar-ux-plan.md`
- Related: `decisions/0022-study-engine-improvement.md`, `packages/mobile/src/study/`
